(function(j,b){"object"===typeof exports?b(exports):"function"===typeof define&&define.amd?define(["exports"],b):b(j)})(this,function(j){function b(a){this._targetElement=a;this._options={wideAreaAttr:"data-widearea",exitOnEsc:!0,defaultColorScheme:"light",closeIconLabel:"Close WideArea",changeThemeIconLabel:"Toggle Color Scheme",fullScreenIconLabel:"WideArea Mode"};var f=this;a=this._targetElement.querySelectorAll("textarea["+this._options.wideAreaAttr+"='enable']");for(var g=function(){m.call(f,
this)},c=a.length-1;0<=c;c--){var d=a[c],e=document.createElement("div"),b=document.createElement("div"),h=document.createElement("a");e.className="widearea-wrapper";b.className="widearea-icons";h.className="widearea-icon fullscreen";h.title=this._options.fullScreenIconLabel;h.href="javascript:void(0);";h.onclick=g;e.appendChild(d.cloneNode());b.appendChild(h);e.appendChild(b);d.parentNode.replaceChild(e,d)}}function m(a){var f=this;a=a.parentNode.parentNode.querySelector("textarea");var b=a.cloneNode();
b.className=("widearea-fullscreen "+a.className).trim();a.className=("widearea-fullscreened "+a.className).trim();var c=document.createElement("div");c.className="widearea-controlPanel";var d=document.createElement("a");d.href="javascript:void(0);";d.className="widearea-icon close";d.title=this._options.closeIconLabel;d.onclick=function(){l.call(f)};var e=document.createElement("a");e.href="javascript:void(0);";e.className="widearea-icon changeTheme";e.title=this._options.changeThemeIconLabel;e.onclick=
function(){n.call(f)};c.appendChild(d);c.appendChild(e);d=document.createElement("div");d.className="widearea-overlayLayer "+this._options.defaultColorScheme;d.appendChild(b);d.appendChild(c);document.body.appendChild(d);b.focus();b.value=a.value;this._onKeyDown=function(a){27===a.keyCode&&f._options.exitOnEsc&&l.call(f)};window.addEventListener?window.addEventListener("keydown",f._onKeyDown,!0):document.attachEvent&&document.attachEvent("onkeydown",f._onKeyDown)}function n(){var a=document.querySelector(".widearea-overlayLayer");
a.className=/dark/gi.test(a.className)?a.className.replace("dark","light"):a.className.replace("light","dark")}function l(){var a=document.querySelector("textarea.widearea-fullscreened"),b=document.querySelector(".widearea-overlayLayer"),g=b.querySelector("textarea");a.focus();a.value=g.value;b.parentNode.removeChild(b);window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown)}var k=function(a){if("string"===
typeof a){if(a=document.querySelector(a))return new b(a);throw Error("There is no element with given selector.");}return new b(document.body)};k.version="0.1.0";k.fn=b.prototype={clone:function(){return new b(this)},setOption:function(a,b){this._options[a]=b;return this},setOptions:function(a){var b=this._options,g={},c;for(c in b)g[c]=b[c];for(c in a)g[c]=a[c];this._options=g;return this}};return j.wideArea=k});
